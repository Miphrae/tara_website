async function loadCounty(e,r,o,n,a,t,s,i){r._borders&&(r.removeLayer(r._borders),r._borders=null),o.clearLayers(),n.length=0,a.innerHTML="<p><em>Click a marker on the map â†’ its name will go here.</em></p>",r._borders=await new Promise((o=>{omnivore.kml(t[e].kml,null,L.geoJson(null,{style:{color:"#0074D9",weight:2,opacity:.8}})).on("ready",(function(){this.addTo(r),r.fitBounds(this.getBounds()),o(this)}))}));const l=await fetch(t[e].csv).then((e=>e.text())),d=Papa.parse(l,{header:!0}).data;for(let e of d){if(!e.LAT||!e.LON)continue;const r=e["Organization Name_CLEAN"],t=[+e.LAT,+e.LON],l="multiple spaces"===(e.isMultiple||"").toLowerCase()?i:s,d=L.marker(t,{title:r,icon:l}).bindPopup(`<strong>${r}</strong><br>${e.Address}`).on("click",(()=>{a.innerHTML=`<h4>${r}</h4><p>${e.Address}</p>`}));o.addLayer(d),n.push({name:r,marker:d})}r.addLayer(o)}