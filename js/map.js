document.addEventListener("DOMContentLoaded",(()=>{const e=L.map("map",{layers:[L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OSM"})]}).setView([37.5,-119.5],6),t=document.querySelectorAll("#county-tabs button"),s=document.getElementById("search-toggle"),a=document.getElementById("org-search"),n=document.getElementById("search-results"),r=document.getElementById("sidebar"),o=L.markerClusterGroup(),c=[],i=makePinIcon("#0074D9"),d=makePinIcon("#FF4136"),l={county1:{kml:"https://cdn.jsdelivr.net/gh/miphrae/tara_website@v1.0.0/borders_livermore.kml",csv:"https://cdn.jsdelivr.net/gh/miphrae/tara_website@v1.0.0/points_livermore.csv"},county2:{kml:"https://cdn.jsdelivr.net/gh/miphrae/tara_website@v1.0.0/borders_pleasanton.kml",csv:"https://cdn.jsdelivr.net/gh/miphrae/tara_website@v1.0.0/points_pleasanton.csv"},county3:{kml:"https://cdn.jsdelivr.net/gh/miphrae/tara_website@v1.0.0/borders.kml",csv:"https://cdn.jsdelivr.net/gh/miphrae/tara_website@v1.0.0/points.csv"}};t.forEach((s=>{s.addEventListener("click",(()=>{t.forEach((e=>e.classList.remove("active"))),s.classList.add("active"),loadCounty(s.dataset.county,e,o,c,r,l,i,d)}))})),loadCounty("county1",e,o,c,r,l,i,d),attachSearchLogic(e,c,a,s,n,r,"fX3Uesvx5ZBwgI8zNqhf")}));